\documentclass[../../main.tex]{subfiles}

\begin{document}

\subsection{7.2 Constraints on Attributes and Tuples}

\subsubsection*{Exercise 2.1}

a)

\begin{lstlisting}[language=sql]
  year CHECK (year >= 1915);
\end{lstlisting}

b)

\begin{lstlisting}[language=sql]
  length CHECK (length >= 60 AND length <= 250);
\end{lstlisting}

c)

\begin{lstlisting}[language=sql]
  studioName CHECK
    (studioName in('Disney', 'Fox', 'MGM', 'Paramount'));
\end{lstlisting}

\subsubsection*{Exercise 2.2}

a)

\begin{lstlisting}[language=sql]
  birthdate CHECK
    (birthdate NOT IN (SELECT year FROM Movies));
\end{lstlisting}

b)

\begin{lstlisting}[language=sql]
  UNIQUE(address);
\end{lstlisting}

c)

For \verb|MovieStar|:

\begin{lstlisting}[language=sql]
  name CHECK
    (name NOT IN (SELECT name FROM MovieExec));
\end{lstlisting}

For \verb|MovieExec|:

\begin{lstlisting}[language=sql]
  name CHECK
    (name NOT IN (SELECT name FROM MovieStar));
\end{lstlisting}

d)

\begin{lstlisting}[language=sql]
  name CHECK
    (name IN (SELECT name FROM Movies));
\end{lstlisting}

e)

\begin{lstlisting}[language=sql]
  CHECK
    (producerC# IN (SELECT presC# FROM Studio))
    UNION
    (presC# IN (SELECT producerC# FROM Movie));
\end{lstlisting}

\subsubsection*{Exercise 2.3}

a)

\begin{lstlisting}[language=sql]
  CHECK(speed < 2.0 AND price < 600);
\end{lstlisting}

b)

\begin{lstlisting}[language=sql]
  CHECK(screen < 15 AND (hd >= 40 OR price < 1000));
\end{lstlisting}

\subsubsection*{Exercise 2.4}

a)

\begin{lstlisting}[language=sql]
  CHECK(bore > 16);
\end{lstlisting}

b)

\begin{lstlisting}[language=sql]
  CHECK(numGuns > 9 AND bore < 14);
\end{lstlisting}

c)

\begin{lstlisting}[language=sql]
  CHECK(name NOT IN (SELECT name from Battles));
\end{lstlisting}

\subsubsection*{Exercise 2.5}

For both situations, the \verb|gender| cannot be \verb|NULL|

\end{document}
